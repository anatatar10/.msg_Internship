<p-toast></p-toast>
<p-confirmDialog styleClass="custom-confirm-dialog"></p-confirmDialog>

<div class="user-list-header">
  <h2>{{ "userListDTO.TITLE" | translate }}</h2>
</div>

<div class="user-list-container">
  <div class="card">
    <!-- Move the button here -->
    <button class="create-user" (click)="goToCreateColleague()">
      <svg fill="#ffffff" id="Capa_1" width="20px" height="20px" viewBox="0 0 45.40 45.40" stroke="#ffffff" stroke-width="0.00045402">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <g>
            <path d="M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141 c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27 c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435 c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z"></path>
          </g>
        </g>
      </svg>
      <label>{{ "userListDTO.CREATE_NEW_COLLEAGUE" | translate }}</label>
    </button>

    <div class="card-body">
      <section class="section user-details">
        <div class="scrollable-table">
          <p-table [value]="userListDTO" responsiveLayout="scroll" styleClass="p-datatable-striped custom-table">
            <ng-template pTemplate="header">
              <tr>
                <th style="text-align: center;">{{ "userListDTO.NAME" | translate }}</th>
                <th style="text-align: center;">{{ "userListDTO.EMAIL" | translate }}</th>
                <th style="text-align: center;">{{ "userListDTO.ROLE" | translate }}</th>
                <th style="text-align: center;">{{ "userListDTO.NO_ASSIGNED_CASES" | translate }}</th>
                <th style="text-align: center;">{{ "userListDTO.ACTION" | translate }}</th>
              </tr>
            </ng-template>

            <ng-template pTemplate="body" let-user>
              <tr onmouseover="this.style.backgroundColor='#f0f0f0';" onmouseout="this.style.backgroundColor='';">
                <td style="text-align: center;">{{ user.firstName }} {{ user.lastName }}</td>
                <td style="text-align: center;">{{ user.email }}</td>
                <td style="text-align: center;">{{ user.roleName }}</td>
                <td style="text-align: center;">{{ user.noAssignedCases }}</td>
                <td style="text-align: center;">
                  <div class="button-container">
                    <button class="edit-btn">
                      <svg height="1em" viewBox="0 0 512 512">
                        <path d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"></path>
                      </svg>
                    </button>
                    <button class="bin-button" (click)="confirmDelete(user.email, $event)">
                      <svg class="bin-top" viewBox="0 0 39 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                        <line x1="12" y1="1.5" x2="26.0357" y2="1.5" stroke="white" stroke-width="3"></line>
                      </svg>
                      <svg class="bin-bottom" viewBox="0 0 33 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <mask id="path-1-inside-1_8_19" fill="white">
                          <path d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"></path>
                        </mask>
                        <path d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z" fill="white" mask="url(#path-1-inside-1_8_19)"></path>
                        <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                        <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                      </svg>
                    </button>
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </section>
    </div>
  </div>
</div>
